.cube {
  width: var(--cubescale);
  height: var(--cubescale);
  position: absolute;
  pointer-events: none;
  transform-style: preserve-3d;
}

.cube > div {
  width: 100%;
  height: 100%;
  position: absolute;
  pointer-events: auto;
  background-image: url(../img/wood.webp);
  background-size: cover;
  box-shadow: inset 0 0 calc(0.25 * var(--cubescale)) rgba(0, 0, 0, 0.5),
    inset 0 0 calc(0.15 * var(--cubescale)) 0.1em rgba(0, 0, 0, 0.25);
  border: 2px solid #352a23;
}
.cube-top {
  transform: rotateX(90deg) translateZ(calc(var(--cubescale) / 2));
  background-color: rgba(255, 0, 0, 0.7);
}

.cube-bottom {
  transform: rotateX(-90deg) translateZ(calc(var(--cubescale) / 2));
  background-color: rgba(0, 255, 0, 0.7);
}

.cube-front {
  transform: translateZ(calc(var(--cubescale) / 2));
  background-color: rgba(0, 0, 255, 0.7);
}

.cube-back {
  transform: rotateY(180deg) translateZ(calc(var(--cubescale) / 2));
  background-color: rgba(255, 255, 0, 0.7);
}

.cube-left {
  transform: rotateY(-90deg) translateZ(calc(var(--cubescale) / 2));
  background-color: rgba(0, 255, 255, 0.7);
}

.cube-right {
  transform: rotateY(90deg) translateZ(calc(var(--cubescale) / 2));
  background-color: rgba(255, 0, 255, 0.7);
}

.cube-1 {
  bottom: 0;
  transform: translateZ(calc(var(--depth) - calc(0.5 * var(--cubescale))));
}
.cube-2 {
  bottom: 0;
  transform: translateZ(calc(var(--depth) - calc(0.55 * var(--cubescale))))
    translateX(calc(1.05 * var(--cubescale))) rotateY(-5deg);
}
.cube-3 {
  bottom: 0;
  transform: translateZ(calc(var(--depth) - calc(1.65 * var(--cubescale))))
    rotateY(-2deg);
}
.cube-4 {
  bottom: var(--cubescale);
  transform: translateZ(calc(var(--depth) - calc(0.65 * var(--cubescale))))
    translateX(calc(0.15 * var(--cubescale))) rotateY(-12deg);
}
.cube-5 {
  --cubescale: 30vmin;
  right: 0;
  bottom: 0;
  transform: translateZ(calc(var(--depth) - calc(0.5 * var(--cubescale))));
}
.cube-6 {
  bottom: calc(2 * var(--cubescale));
  right: calc(0.5 * var(--cubescale));
  transform: translateZ(calc(var(--depth) - var(--cubescale))) rotateY(-15deg);
  --cubescale: 15vmin;
}
.cube-7 {
  bottom: 0;
  transform: translateZ(calc(var(--depth) - calc(0.75 * var(--cubescale))))
    rotateY(12deg);
  left: calc(100% - calc(2.75 * var(--cubescale)));
}

/*-- OBJECTS --*/

[data-comment] {
  cursor: pointer;
}

.face {
  transform: rotate(0deg);
}
.left-view .face {
  transform: rotateY(90deg);
}
.right-view .face {
  transform: rotateY(-90deg);
}

.flat {
  background-size: contain;
  background-position: center;
  background-repeat: no-repeat;
  position: absolute;
  filter: drop-shadow(0 2vmin 4vmin rgba(0, 0, 0, 0.5));
  backface-visibility: hidden;
  transform-style: preserve-3d;
}

.cube.shelf {
  --cubescale: 35vmin;
  left: calc(0.5 * var(--cubescale));
  bottom: 0;
  width: var(--cubescale);
  height: calc(1.75 * var(--cubescale));
  transform-style: preserve-3d;
  filter: unset;
  transform: translateZ(10vmin);
  transition: transform 0.3s ease-out 
}

.left-view .left-wall .shelf {
  bottom: -100%;
}

/* Shelf**/
.cube.shelf {
  --cubescale: 35vmin;
  left: calc(0.5 * var(--cubescale));
  bottom: 0;
  width: var(--cubescale);
  height: calc(1.75 * var(--cubescale));
  transform-style: preserve-3d;
  filter: unset;
  transform: translateZ(10vmin);
  transition: none;
}

.left-view .left-wall .shelf {
  bottom: -100%;
}

.cube.shelf .cube > div,
.cube.shelf > div {
  transform-style: preserve-3d;
  filter: unset;
  background-size: var(--cubescale) auto;
  border: 2px solid #111;
}

.shelf-level > div:not(.item),
.cube.shelf > div {
  background-image: url(../img/wood.webp);
}

.cube.shelf .shelf-level,
.cube.shelf > .cube-top,
.cube.shelf > .cube-bottom {
  height: calc(0.5 * var(--cubescale));
}

.cube.shelf > .cube-left,
.cube.shelf > .cube-right {
  width: calc(0.5 * var(--cubescale));
}

.shelf-level > .cube-left,
.cube.shelf > .cube-left {
  transform: rotateY(-90deg) translateZ(calc(0.25 * var(--cubescale)));
}

.shelf-level > .cube-right,
.cube.shelf > .cube-right {
  transform: rotateY(90deg) translateZ(calc(0.75 * var(--cubescale)));
}

.shelf-level > .cube-top,
.cube.shelf > .cube-top {
  transform: rotateX(90deg) translateZ(calc(0.25 * var(--cubescale)));
}

.shelf-level > .cube-bottom,
.cube.shelf > .cube-bottom {
  transform: rotateX(-90deg) translateZ(calc(1.5 * var(--cubescale)));
  background-color: rgba(0, 255, 0, 0.7);
}

.shelf-level > .cube-back,
.cube.shelf > .cube-back {
  transform: translateZ(calc(-0.25 * var(--cubescale)));
  width: var(--cubescale);
}

.shelf-level > .cube-front,
.cube.shelf > .cube-front {
  transform: translateZ(calc(0.25 * var(--cubescale)));
}

.cube.shelf > .cube-front {
  background: transparent;
  box-shadow: unset;
  border: calc(0.05 * var(--cubescale)) solid #241d13;
  pointer-events: none;
}

.cube.shelf > .shelf-level {
  height: calc(0.05 * var(--cubescale));
  background: unset !important;
  box-shadow: unset;
  border: none;
}

.cube.shelf > .shelf-level > .cube-right,
.cube.shelf > .shelf-level > .cube-left {
  width: calc(0.5 * var(--cubescale));
}

.cube.shelf > .shelf-level > .cube-top,
.cube.shelf > .shelf-level > .cube-bottom {
  height: calc(0.5 * var(--cubescale));
}

.cube.shelf > .shelf-level > .cube-bottom {
  transform: rotateX(90deg) translateZ(calc(0.2 * var(--cubescale)));
}

.cube.shelf > .shelf-level .cube-back {
  display: none;
}

.cube.shelf .level-1 {
  transform: translateY(calc(0.575 * var(--cubescale)));
}
.cube.shelf .level-2 {
  transform: translateY(calc(1.15 * var(--cubescale)));
}
.cube.shelf .level-3 {
  transform: translateY(calc(1.7 * var(--cubescale)));
}

.cube .shelf-level > .item {
  width: 10vmin;
  height: 10vmin;
  transform: rotateZ(90deg)
    translateX(calc(-1 * (calc(50% + calc(0.05 * var(--cubescale))))))
    translateY(100%);
  position: absolute;
  bottom: 0;
  left: 50%;
  transform-origin: bottom center;
  border: none !important;
  box-shadow: unset;
  background-size: contain;
  background-position: bottom center;
  background-repeat: no-repeat;
  background-image: unset;
}

.cube .shelf-level > .item-cube {
  --itemscale: 10vmin;
  width: var(--itemscale);
  height: var(--itemscale);
  transform-origin: bottom center;
}

.cube .shelf-level > .left-cube {
  left: 30%;
}
.cube .shelf-level > .right-cube {
  left: unset;
  right: 0;
}

.shelf-level .item > .cube {
  --cubescale: var(--itemscale);
  background: transparent;
  position: absolute;
  bottom: 0;
  left: 0;
  transform: rotateX(-90deg) rotateZ(-90deg);
}
.item > .cube > .cube-back {
  display: block !important;
}

.cube.cobblestone > div {
  background-image: url("https://assets.codepen.io/5896374/cobble.png");
  border: none !important;
}
.cube.minecraft > div {
  background-image: url("https://assets.codepen.io/5896374/grass-side.png");
  border: none !important;
}
.cube.minecraft > .cube-top {
  background-image: url("https://assets.codepen.io/5896374/grass-top.png");
}
.cube.minecraft > .cube-bottom {
  background-image: url("https://assets.codepen.io/5896374/grass-bottom.png");
}

.item .item-inner {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-size: contain;
  background-position: bottom center;
  background-repeat: no-repeat;
  transition: all 0.3s ease;
  cursor: pointer;
}

.shelf .item .item-inner {
  transform: rotate(-90deg);
}

.item:hover .item-inner {
  filter: drop-shadow(0 3px 6px red) brightness(1.25) contrast(1.25)
    saturate(1.25);
  margin-left: -7%;
}

.scraps > .item-inner {
  background-image: url("https://assets.codepen.io/5896374/scraps.gif");
}

.shelf-level .item.milk {
  width: 15vmin;
  height: 15vmin;
  left: 25%;
}

.milk > .item-inner {
  background-image: url("https://gamer.church/wp-content/uploads/2024/12/milk-bottle.gif");
}

.shelf-level .item.gift {
  width: 9vmin;
  height: 9vmin;
  left: 25%;
}

.gift > .item-inner {
  background-image: url("https://gamer.church/wp-content/uploads/2024/12/gift-spin.gif");
}

.shelf-level .item.book {
  width: 12vmin;
  height: 12vmin;
  left: 75%;
}

.book > .item-inner {
  background-image: url("https://gamer.church/wp-content/uploads/2024/12/book-spin.gif");
}

.shelf-level .item.mod {
  width: 8vmin;
  height: 8vmin;
  left: 75%;
}

.inventory .item > .item-inner {
  background-size: 60%;
  background-position: center;
}

.inventory .item-inner {
  margin: 0 !important;
}

.mod > .item-inner {
  background-image: url("https://gamer.church/wp-content/uploads/2024/12/mod-spin.gif");
}

.vhs > .item-inner {
  background-image: url("https://gamer.church/wp-content/uploads/2024/12/vhs-tape.gif");
}

#tooltip {
  position: fixed;
  z-index: 999;
  top: 0;
  left: 0;
  transition: top 0.1s ease, left 0.1s ease;
  pointer-events: none;
  user-select: none;
}

#tooltip span {
  color: white;
  border: 1px solid;
  background: rgba(0, 0, 0, 0.5);
  display: block;
  width: max-content;
  max-width: 50vw;
  padding: 0.5em 0.75em;
  line-height: 1.5em;
  font-size: clamp(11px, 2vw, 16px);
  transition: all 0.3s ease;
  opacity: 0.8;
}

/* DEBUG – dočasně obarvit boky poličky */
.cube.shelf > .cube-left  { outline: 2px solid cyan; background-color: rgba(0,255,255,.15); }
.cube.shelf > .cube-right { outline: 2px solid magenta; background-color: rgba(255,0,255,.15); }
